<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢—Ä–µ–∫–µ—Ä —Ä–∞–±–æ—Ç—ã üçÖ ‚Äî –ú–µ—Ç–æ–¥ –ü–æ–º–æ–¥–æ—Ä–æ</title>
  <style>
    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #fff0f0, #ffdede);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    main {
      display: flex;
      align-items: stretch;
      justify-content: center;
      width: 100%;
      max-width: 1300px;
      padding: 40px;
      gap: 30px;
      box-sizing: border-box;
    }

    aside {
      flex: 1;
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 25px 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      color: #333;
      line-height: 1.6;
      animation: fadeIn 0.6s ease forwards;
    }

    aside h2 {
      font-size: 1.4em;
      color: #e43c3c;
      margin-bottom: 10px;
    }

    aside ul {
      padding-left: 20px;
      margin: 10px 0;
    }

    aside li {
      margin-bottom: 8px;
    }

    .center {
      flex: 1.3;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(8px);
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      padding: 30px 40px;
      text-align: center;
      max-width: 400px;
      display: none;
      animation: fadeIn 0.6s ease forwards;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(15px);}
      to {opacity: 1; transform: translateY(0);}
    }

    img {
      width: 80px;
      margin-bottom: 10px;
    }

    h1 {
      font-size: 1.8em;
      margin-bottom: 5px;
      color: #333;
    }

    p {
      color: #666;
      margin-bottom: 15px;
    }

    #progressContainer {
      position: relative;
      width: 180px;
      height: 180px;
      margin: 0 auto 20px;
    }

    svg {
      transform: rotate(-90deg);
      width: 180px;
      height: 180px;
    }

    circle {
      fill: none;
      stroke-width: 12;
      stroke-linecap: round;
    }

    .bg {
      stroke: #ffd6d6;
    }

    .progress {
      stroke: #ff4b4b;
      transition: stroke-dashoffset 1s linear;
    }

    #timer {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5em;
      font-weight: bold;
      color: #333;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      background-color: #ff4b4b;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1em;
      transition: background-color 0.2s, transform 0.1s;
    }

    button:hover {
      background-color: #ff2f2f;
      transform: scale(1.05);
    }

    button.secondary {
      background-color: #aaa;
    }

    .hidden {
      display: none;
    }

    #survey {
      margin-top: 25px;
      text-align: left;
    }

    textarea {
      width: 100%;
      height: 80px;
      border-radius: 8px;
      border: 1px solid #ccc;
      padding: 8px;
      font-family: inherit;
      resize: none;
    }

    #submitFeedback {
      margin-top: 10px;
      width: 100%;
      background-color: #4CAF50;
    }

    #submitFeedback:hover {
      background-color: #3b8e41;
    }

    /* ---- Modal ---- */
    #modeModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal-content {
      background: #fff;
      border-radius: 20px;
      padding: 30px 40px;
      text-align: center;
      animation: fadeIn 0.5s ease forwards;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .mode-btns {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    .mode-btn {
      background-color: #ff4b4b;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      font-size: 1em;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mode-btn:hover {
      background-color: #ff2f2f;
      transform: scale(1.05);
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      color: #888;
      padding: 10px;
    }

    @media (max-width: 950px) {
      main {
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 20px;
      }
      aside {
        max-width: 90%;
      }
    }
  </style>
</head>
<body>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ -->
  <div id="modeModal">
    <div class="modal-content">
      <h2>üçÖ –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h2>
      <p>–ù–∞—Å—Ç—Ä–æ–π —Ç–µ–º–ø –ø–æ–¥ —Å–µ–±—è</p>
      <div class="mode-btns">
        <button class="mode-btn" data-work="30" data-break="10">üçÖ 30 –º–∏–Ω —Ä–∞–±–æ—Ç—ã / 10 –æ—Ç–¥—ã—Ö–∞</button>
        <button class="mode-btn" data-work="10" data-break="5">‚ö° 10 –º–∏–Ω —Ä–∞–±–æ—Ç—ã / 5 –æ—Ç–¥—ã—Ö–∞</button>
        <button class="mode-btn" data-work="5" data-break="5">üéØ 5 –º–∏–Ω —Ä–∞–±–æ—Ç—ã / 5 –æ—Ç–¥—ã—Ö–∞</button>
      </div>
    </div>
  </div>

  <main>
    <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
    <aside>
      <h2>üçÖ –ß—Ç–æ —Ç–∞–∫–æ–µ –º–µ—Ç–æ–¥ –ü–æ–º–æ–¥–æ—Ä–æ</h2>
      <p>
        –ú–µ—Ç–æ–¥ <b>–ü–æ–º–æ–¥–æ—Ä–æ</b> ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ —Ç–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ü–∏–∫–ª–∞—Ö –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–¥—ã—Ö–∞.
      </p>
      <ul>
        <li>–†–∞–±–æ—Ç–∞–µ—à—å 25‚Äì30 –º–∏–Ω—É—Ç –±–µ–∑ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–π.</li>
        <li>–î–µ–ª–∞–µ—à—å –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤ (5‚Äì10 –º–∏–Ω—É—Ç).</li>
        <li>–ü–æ—Å–ª–µ 4 —Ü–∏–∫–ª–æ–≤ ‚Äî –¥–ª–∏–Ω–Ω—ã–π –æ—Ç–¥—ã—Ö (20‚Äì30 –º–∏–Ω—É—Ç).</li>
      </ul>
      <p>
        –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–º–æ–≥–∞–µ—Ç –±–æ—Ä–æ—Ç—å—Å—è —Å –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏–µ–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –∏ –Ω–µ –≤—ã–≥–æ—Ä–∞—Ç—å.
      </p>
    </aside>

    <!-- –¶–µ–Ω—Ç—Ä -->
    <div class="center">
      <div class="card" id="mainCard">
        <img src="https://cdn-icons-png.flaticon.com/512/2909/2909592.png" alt="–ü–æ–º–∏–¥–æ—Ä–∫–∞">
        <h1>–¢—Ä–µ–∫–µ—Ä —Ä–∞–±–æ—Ç—ã üçÖ</h1>
        <p id="modeLabel">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</p>

        <div id="progressContainer">
          <svg>
            <circle class="bg" cx="90" cy="90" r="80"></circle>
            <circle class="progress" cx="90" cy="90" r="80"></circle>
          </svg>
          <div id="timer">30:00</div>
        </div>

        <div class="buttons">
          <button id="startBtn">–°—Ç–∞—Ä—Ç</button>
          <button id="pauseBtn" class="secondary hidden">–ü–∞—É–∑–∞</button>
          <button id="resetBtn" class="secondary">–°–±—Ä–æ—Å</button>
        </div>

        <div id="survey" class="hidden">
          <h3>–ö–∞–∫ —Ç—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—à—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É?</h3>
          <textarea id="feedback" placeholder="–ù–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–∑—ã–≤..."></textarea>
          <button id="submitFeedback">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –æ—Ç–¥—ã—Ö</button>
        </div>
      </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
    <aside>
      <h2>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
      <ul>
        <li>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –≤—ã–±–µ—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É.</li>
        <li>–£–±–µ—Ä–∏ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã: —Ç–µ–ª–µ—Ñ–æ–Ω, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</li>
        <li>–í–æ –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞ ‚Äî –Ω–µ —Å–º–æ—Ç—Ä–∏ —ç–∫—Ä–∞–Ω, –ø–æ–¥–≤–∏–≥–∞–π—Å—è.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π –±–ª–æ–∫–Ω–æ—Ç –¥–ª—è –∏–¥–µ–π, —á—Ç–æ –≤—Å–ø–ª—ã–≤–∞—é—Ç –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã.</li>
        <li>–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞ –æ—Ü–µ–Ω–∏ —Å–≤–æ–π —Ñ–æ–∫—É—Å –∏ –Ω–∞—Å—Ç—Ä–æ–π.</li>
      </ul>
      <p>
        –ì–ª–∞–≤–Ω–æ–µ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å. –î–∞–∂–µ 2‚Äì3 ¬´–ø–æ–º–∏–¥–æ—Ä–∞¬ª –≤ –¥–µ–Ω—å –¥–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç üå±
      </p>
    </aside>
  </main>

  <footer>
    –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ¬© 2025
  </footer>

  <script>
    const timerEl = document.getElementById("timer");
    const startBtn = document.getElementById("startBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const resetBtn = document.getElementById("resetBtn");
    const modeLabel = document.getElementById("modeLabel");
    const surveyEl = document.getElementById("survey");
    const feedbackInput = document.getElementById("feedback");
    const submitFeedbackBtn = document.getElementById("submitFeedback");
    const progressCircle = document.querySelector(".progress");
    const modal = document.getElementById("modeModal");
    const mainCard = document.getElementById("mainCard");

    const radius = 80;
    const circumference = 2 * Math.PI * radius;
    progressCircle.style.strokeDasharray = circumference;
    progressCircle.style.strokeDashoffset = 0;

    let WORK_TIME = 30 * 60;
    let BREAK_TIME = 10 * 60;
    let timeLeft = WORK_TIME;
    let totalTime = WORK_TIME;
    let isRunning = false;
    let isBreak = false;
    let timerInterval;

    function setProgress(percent) {
      const offset = circumference - percent * circumference;
      progressCircle.style.strokeDashoffset = offset;
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60).toString().padStart(2, "0");
      const seconds = (timeLeft % 60).toString().padStart(2, "0");
      timerEl.textContent = `${minutes}:${seconds}`;
      setProgress(timeLeft / totalTime);
    }

    function startTimer() {
      if (isRunning) return;
      isRunning = true;
      startBtn.classList.add("hidden");
      pauseBtn.classList.remove("hidden");
      timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          handleCycleEnd();
          return;
        }
        timeLeft--;
        updateTimerDisplay();
      }, 1000);
    }

    function pauseTimer() {
      isRunning = false;
      clearInterval(timerInterval);
      startBtn.classList.remove("hidden");
      pauseBtn.classList.add("hidden");
    }

    function resetTimer() {
      clearInterval(timerInterval);
      isRunning = false;
      timeLeft = isBreak ? BREAK_TIME : WORK_TIME;
      totalTime = timeLeft;
      updateTimerDisplay();
      startBtn.classList.remove("hidden");
      pauseBtn.classList.add("hidden");
    }

    function handleCycleEnd() {
      isRunning = false;
      startBtn.classList.remove("hidden");
      pauseBtn.classList.add("hidden");

      if (!isBreak) {
        surveyEl.classList.remove("hidden");
      } else {
        isBreak = false;
        modeLabel.textContent = "–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã";
        timeLeft = WORK_TIME;
        totalTime = WORK_TIME;
        updateTimerDisplay();
      }
    }

    submitFeedbackBtn.addEventListener("click", () => {
      feedbackInput.value = "";
      surveyEl.classList.add("hidden");
      isBreak = true;
      modeLabel.textContent = "–í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞";
      timeLeft = BREAK_TIME;
      totalTime = BREAK_TIME;
      updateTimerDisplay();
      startTimer();
    });

    document.querySelectorAll(".mode-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        WORK_TIME = btn.dataset.work * 60;
        BREAK_TIME = btn.dataset.break * 60;
        timeLeft = WORK_TIME;
        totalTime = WORK_TIME;
        updateTimerDisplay();
        modal.style.display = "none";
        mainCard.style.display = "block";
      });
    });

    startBtn.addEventListener("click", startTimer);
    pauseBtn.addEventListener("click", pauseTimer);
    resetBtn.addEventListener("click", resetTimer);

    updateTimerDisplay();
  </script>
</body>
</html>
